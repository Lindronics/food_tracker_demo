{% extends  "tracker_app/base.html" %}
{% load staticfiles %}
{% load multiplication %}

{% block content_block %}
<div class="jumbotron text-center">
  <div class="container">
    <h1>Welcome back, {{user.username}}</h1>
    <p class="lead">Placeholder text.</p>
  </div>
</div>
<div class="jumbotron text-center">
  <div class="container">
    <h2>Your day</h2>
    <ul class="pagination justify-content-center">
      <li class="page-item">
        <a class="page-link" href="{% url 'profile' yesterday %}">
          <span>&laquo;</span>
        </a>
      </li>
      <li class="page-item"><a class="page-link" href="{% url 'profile' yesterday %}">{{yesterday}}</a></li>
      <li class="page-item active"><a class="page-link" href="#">{{today}}</a></li>
      <li class="page-item"><a class="page-link" href="{% url 'profile' tomorrow %}">{{tomorrow}}</a></li>
      <li class="page-item">
        <a class="page-link" href="{% url 'profile' tomorrow %}">
          <span>&raquo;</span>
        </a>
      </li>
    </ul>
    <h2>
      <span class="badge badge-secondary">{{daily_sum.calories}} cals</span>
      <span class="badge badge-secondary">{{daily_sum.fat}}g fat</span>
      <span class="badge badge-secondary">{{daily_sum.carbs}}g carbs</span>
      <span class="badge badge-secondary">{{daily_sum.protein}}g protein</span>
    </h2>
  </div>
</div>

<div class="album py-5 bg-light">
  <div class="container">
    <h2> Foods </h2>
    {% if food_logs %}
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Name</th>
            <th>Amount</th>
            <th>Calories</th>
            <th>Fat</th>
            <th>Carbs</th>
            <th>Protein</th>
            <th>Details</th>
          </tr>
        </thead>
        <tbody>
          {% for f in food_logs %}
          <tr>
            <td>{{f.food.name}}</td>
            <td>{{f.amount}}g</td>
            <td>{% multiply f.food.calories f.amount %}</td>
            <td>{% multiply f.food.fat f.amount %}</td>
            <td>{% multiply f.food.carbs f.amount %}</td>
            <td>{% multiply f.food.protein f.amount %}</td>
            <td><a href="#">Details</a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% endif %}
  </div>
</div>

{% endblock %}